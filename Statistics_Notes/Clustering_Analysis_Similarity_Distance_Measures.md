# 聚类分析中的相似度测度方法

## 一、距离度量（相异度）

### 欧氏距离（Euclidean Distance）

-   **定义**：计算多维空间中两点间的直线距离\
    $$d(x,y) = \sqrt{\sum_{k=1}^n (x_k - y_k)^2}$$
-   **特点**：
    -   最常用的几何距离\
    -   适用于连续型数据\
    -   对量纲敏感

### 曼哈顿距离（Manhattan Distance）

-   **定义**：计算各维度差值的绝对值之和\
    $$d(x,y) = \sum_{k=1}^n |x_k - y_k|$$
-   **特点**：
    -   对离群点不敏感\
    -   适合高维稀疏数据

### 切比雪夫距离（Chebyshev Distance）

-   **定义**：取各维度差值的最大值\
    $$d(x,y) = \max_k |x_k - y_k|$$
-   **特点**：
    -   适用于特征差异显著的情况

### 闵可夫斯基距离（Minkowski Distance）

-   **定义**：欧氏距离和曼哈顿距离的推广形式\
    $$d(x,y) = \left( \sum_{k=1}^n |x_k - y_k|^p \right)^{1/p}$$
-   **特例**：
    -   $p=1$ 时为曼哈顿距离\
    -   $p=2$ 时为欧氏距离\
    -   $p \to \infty$ 时为切比雪夫距离

### 马氏距离（Mahalanobis Distance）

-   **定义**：考虑变量协方差结构，消除量纲影响\
    $$d(x,y) = \sqrt{(x-y)^T S^{-1} (x-y)}$$ （其中 $S$ 为协方差矩阵）
-   **特点**：
    -   适用于变量相关场景

### 汉明距离（Hamming Distance）

-   **定义**：衡量等长字符串或二进制数据的差异位数\
    $$d(x,y) = \sum_{k=1}^n \delta(x_k \neq y_k)$$ （$\delta$ 为指示函数，相异时取1，否则取0）
-   **应用**：
    -   常用于文本或编码数据

------------------------------------------------------------------------

## 二、相似性系数

### 余弦相似度（Cosine Similarity）

-   **定义**：计算向量夹角的余弦值\
    $$\text{sim}(x,y) = \frac{x \cdot y}{\|x\| \|y\|}$$
-   **特点**：
    -   衡量方向相似性\
    -   适用于高维稀疏数据（如文本向量）

### 皮尔逊相关系数（Pearson Correlation）

-   **定义**：衡量变量间的线性相关性\
    $$\text{sim}(x,y) = \frac{\text{cov}(x,y)}{\sigma_x \sigma_y}$$
-   **特点**：
    -   取值范围为 $[-1,1]$\
    -   对异常值敏感

### Jaccard系数（Jaccard Index）

-   **定义**：针对二值型数据，计算交集与并集的比例\
    $$\text{sim}(x,y) = \frac{|x \cap y|}{|x \cup y|}$$
-   **应用**：
    -   市场篮子分析\
    -   生物信息学

### 简单匹配系数（Simple Matching Coefficient）

-   **定义**：计算一致属性的比例\
    $$\text{sim}(x,y) = \frac{\text{一致属性数}}{\text{总属性数}}$$
-   **特点**：
    -   适用于对称二值属性\
    -   常用于分类变量

------------------------------------------------------------------------

## 三、层次聚类中的类间距离

### 最短距离法（Single Linkage）

-   **定义**：以两类中最近样本的距离作为类间距离

### 最长距离法（Complete Linkage）

-   **定义**：以两类中最远样本的距离作为类间距离

### 类平均法（Average Linkage）

-   **定义**：计算两类所有样本对的平均距离

### 重心法（Centroid Linkage）

-   **定义**：以两类重心的距离作为类间距离

------------------------------------------------------------------------

## 四、选择建议

| 数据类型/场景 | 推荐方法                                             |
|---------------|------------------------------------------------------|
| 连续型数据    | 欧氏距离或马氏距离（变量相关时）                     |
| 高维稀疏数据  | 余弦相似度或修正的余弦相似度                         |
| 二值型数据    | Jaccard系数或简单匹配系数                            |
| 层次聚类      | 根据需求选择类间距离（如类平均法平衡敏感性与鲁棒性） |
