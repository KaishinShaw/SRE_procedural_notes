# SAS编程中的逻辑比较运算符 `le` 详解

## 一、基本概念

`le` 是SAS中表示"小于等于"（≤）的逻辑比较运算符助记符，等同于符号 `<=`，主要用于条件判断语句中。

## 二、基本用法

### 数值比较示例

``` sas
data example;
    set raw_data;
    if age le 18 then group = "未成年";  /* 若年龄≤18，分组为"未成年" */
run;
```

**代码说明**：

-   对数据集`raw_data`中所有观测执行判断
-   当变量`age`的值≤18时，创建新变量`group`并赋值为"未成年"
-   结果数据集`example`将包含原始数据和新生成的`group`变量

## 三、运算符对照表

| 运算符名称   | 助记符 | 符号表示   |
|--------------|--------|------------|
| 等于         | eq     | =          |
| 不等于       | ne     | \^= 或 \~= |
| 大于         | gt     | \>         |
| 小于         | lt     | \<         |
| 大于等于     | ge     | \>=        |
| **小于等于** | **le** | **\<=**    |

**应用示例**：

``` sas
if score ge 60 then status = "合格";  /* 筛选成绩≥60分的记录 */
```

## 四、特殊场景应用

### 1. 字符串比较示例

``` sas
if lastname le "Li" then flag = 1;  /* 姓氏字典序≤"Li"时标记 */
```

**注意事项**：

-   比较基于ASCII码值执行
-   区分大小写（"a"的ASCII码为97，"A"为65）
-   中文比较需注意字符集编码

### 2. Unicode符号显示

``` sas
data demo;
    length text $50;
    text = "浓度~{unicode 2264}10mg";  /* 输出"浓度≤10mg" */
run;
```

**技术要点**：

-   使用`~{unicode xxxx}`格式插入Unicode字符
-   需确保输出格式支持Unicode（如RTF、HTML）

## 五、最佳实践总结

**核心作用**：

➤ 数值和字符变量的条件判断\
➤ 数据集子集筛选\
➤ 衍生变量计算

**典型应用场景**：

-   ✅ 年龄分组判定
-   ✅ 成绩等级划分
-   ✅ 字符串范围筛选
-   ✅ 质量控制阈值判断

**注意事项**：

1.  运算符类型匹配原则
    -   数值运算符不能用于字符变量
    -   字符运算符不能用于数值变量
2.  字符比较时注意：
    -   大小写敏感性
    -   前导空格的影响
    -   特殊字符的处理
3.  建议统一使用助记符增强代码可读性
