# 逐步向前法（Forward Selection）在SAS中的应用

## 基本原理

### 初始状态

-   模型不包含任何自变量（空模型）

### 逐步添加过程

1.  计算所有未加入变量的显著性指标：
    -   常用指标：p值、F值、Wilks' Lambda值
2.  选择最显著变量加入模型：
    -   选择标准：p值最小/F值最大/Wilks' Lambda最小
3.  重复上述过程直至：
    -   所有未选变量的显著性均低于预设阈值（默认SLENTRY=0.15）

### 终止条件

当剩余变量的显著性指标均不满足预设阈值时停止筛选

------------------------------------------------------------------------

## SAS实现示例

### 回归分析案例（水泥数据）

``` sas
/* 分析热量y与成分x1-x4的关系 */
proc reg data=cement;
    model y = x1 x2 x3 x4 / 
        selection=forward     /* 指定向前选择法 */
        slentry=0.15;         /* 设置显著性进入阈值 */
run;
```

### 输出解析

1.  **第一步**
    -   引入变量：x1（假设p值最小）
    -   模型形式：$y = \beta_0 + \beta_1x_1$
2.  **第二步**
    -   引入变量：x2（剩余变量中p值最小）
    -   模型形式：$y = \beta_0 + \beta_1x_1 + \beta_2x_2$
3.  **终止条件**
    -   当x3和x4的p值均≥0.15时停止
    -   最终模型保留x1和x2

------------------------------------------------------------------------

## 应用场景

### 1. 判别分析（PROC STEPDISC）

``` sas
/* 汽车数据分类案例 */
proc stepdisc data=cars;
    class origin;          /* 定义分类变量 */
    var weight length mpg; /* 候选自变量 */
    method=forward;        /* 使用向前选择法 */
run;
```

-   **选择标准**：Wilks' Lambda值
-   **典型结果**：优先加入Weight变量（假设其对分类贡献最大）

### 2. 回归分析（PROC REG/GLM）

-   主要用于：
    -   解决多重共线性问题
    -   筛选显著影响因变量的自变量
    -   简化复杂模型结构

------------------------------------------------------------------------

## 优缺点分析

| **优点**                                                               | **缺点**                                                                                 |
|------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| ① 计算效率高，适合高维数据场景② 避免冗余变量一次性引入③ 保证模型简洁性 | ① 变量不可逆加入（无法删除已选变量）② 可能忽略变量交互作用③ 高度相关变量可能导致选择偏误 |

------------------------------------------------------------------------

## 注意事项

### 1. 阈值设置

-   SAS默认参数：SLENTRY=0.15
-   建议根据实际情况调整：
    -   严格场景：0.05
    -   探索性分析：0.2-0.3

### 2. 变量交互

-   高度相关变量建议：
    -   先进行相关性检验
    -   结合逐步选择与手动调整
    -   考虑使用VIF检测
